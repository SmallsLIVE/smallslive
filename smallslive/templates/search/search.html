{% extends "home_new.html" %}
{% load static from staticfiles %}
{% load thumbor_tags %}
{% load i18n %}

{% block homepage_nav_active %}active{% endblock %}

{% block title %}Smalls Jazz Club{% endblock %}

{# TODO Shouldn't be needed here #}
{% block body_class %}home{% endblock %}

{% block extra_nav %}
  <div class="search-tabs">
    <div class="active" onclick="showContent('#showsContent', this)">
      <span class="title1">Archived Shows</span>
    </div>
    <div onclick="showContent('#musicianContent', this)">
      <span class="title1">Musicians</span>
    </div>
  </div>
{% endblock %}

{% block extra_head %}
  <meta name="description"
        content="This is the official website for Smalls Jazz Club in Greenwich Village, New York City!">
  <script src="{% static 'js/search/search.js' %}"></script>
{% endblock %}

{% block content %}

  {% include 'inactive_dialog.html' %}
<div id="back-search" class="back-search-button white-border-button">
    Back to search</div>

<div class="musicians-results white-line-bottom">
    <div id="artist-subheader" class="showing-results text1">{{ showing_artist_results }}</div>
    <div class="title1 musicians-results-title">Musicians</div>
</div>
<div class="artist-search-profile-container "></div>
<div class="main-container search-container {% if user.is_superuser %}admin-shown{% endif %}">

    <section id="musicianContent" class="event-stripe search-tab-content">
        <div  class="search-artist-box-container">
          <img src="{% static 'image/search-icon.svg' %}">
          <input id="artist-search" class="search-artist-box" name="q" type="text" placeholder="START TYPING AN ARTIST NAME"
                 autocomplete="off">

          <div class="instrument-btn white-border-button">Instrument</div>
        </div>
      <div class="instruments-container">
        {% for instrument in instruments %}
          <div class="instrument text4 text-grey">{{ instrument }}</div>
        {% endfor %}
      </div>
      <div class="instrument-btn white-border-button visible-sm visible-xs">Instrument</div>

      <div class="container-list-article">

        <div class="left_arrow artist-arrow-search artist-arrow-disabled">
          <i class="fa fa-angle-left"></i>
        </div>

        <div id="artist-load-gif" class="loading-image">
          <img src="{% static 'image/loading.gif' %}" alt="">
        </div>

        <main id="artists" class="artists-container">
          {% include 'search/artist_results.html' %}
        </main>

        <div class="right_arrow artist-arrow-search"
             style="{% if artist_num_pages == 1 %}visibility: hidden;{% endif %}">
          <i class="fa fa-angle-right"></i>
        </div>

      </div>
      <div class="flex-row items-center content-space-around">
        <div class="left_arrow artist-arrow-search artist-arrow-disabled visible-sm visible-xs">
          <i class="fa fa-angle-left"></i>
        </div>
        
        <div class="right_arrow artist-arrow-search visible-sm visible-xs">
          <i class="fa fa-angle-right"></i>
        </div>
      </div>
    </section>

    <section id="showsContent" class="event-stripe search-tab-content active">
        <div class="musicians-results white-line-bottom">
            <div id="artist-subheader" class="showing-results text1">{{ showing_event_results }}</div>
            <div class="title1 shows-results-title">Archived Shows</div>
        </div>

      <div class="event-section">
        <div class="shows-filter-container">
          <div class="white-border-select event-filter-select">
            <select id="events-filter">
              <option value="newest">Newest to oldest</option>
              <option value="oldest">Oldest to newest</option>
              <option value="popular">Most popular</option>
            </select>
          </div>

        <div class="datepicker-container noclick">
            <div class="custom-date-picker" id="search-date-picker-from">
                <input class="date-picker-text" type="text" placeholder="Select date" readonly>
            </div>
        
            <div class="custom-date-picker" id="search-date-picker-to">
                <input class="date-picker-text" type="text" placeholder="Select date" readonly>
            </div>
        
            <div class="white-border-button" id="apply-button">Apply</div>
        </div>
            
        <div class="datepicker-btn white-border-button caret hover-fade">Filter by date</div>

          
        </div>

      </div>

      <main id="events" class="events-results">
        {% include 'search/event_search_result.html' with events=event_results %}
      </main>

      <div class="concerts-footer flex-column items-center">
      

        {% if last_page != actual_page %}
        <button id="load-more-btn" class="white-border-button load-more-btn" style="width:220px;" onclick="loadMoreEvents()">
          <span style="display: block; margin-top: -15px;">Load More</span>
        </button>
        {% endif %}

        <div id="event-load-gif" class="loading-image events-gif">
            <img src="{% static 'image/loading.gif' %}" alt="">
        </div>

      </div>
    </section>
  </div>
{% endblock %}

{% block extra_js %}
  <script type="text/javascript" src="{% static 'js/moment.min.js' %}"></script>
  <script src="{% static 'js/bootstrap-datepicker.js' %}"></script>
  <script>
      function showContent(id, tab) {
          $('.search-tab-content').removeClass('active');
          $(id).addClass('active');

          $('.search-tabs > div').removeClass('active');
          $(tab).addClass('active');
      }
  </script>
{% endblock %}

{% block footer %}
{% endblock %}


