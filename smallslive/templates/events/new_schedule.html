{% extends "home_new.html" %}
{% load static from staticfiles %}
{% load addurlparameter %}
{% load site_id_tags %}

{% block schedule_nav_active %}active{% endblock %}

{% block title %}Smalls Jazz Club{% endblock %}

{% block extra_head %}

{% endblock %}

{% block home_content %}
<main class="calendar">
  {% get_site_id as site_id %}
  {% if site_id == 1 %}
    <div class="event-stripe">
      {% include 'events/today_and_tomorrow.html' with custom_venue_style=True calendar_page=True%}
    </div>
  {% endif %}
  {% include 'events/upcoming_calendar.html' with upcoming=True show_extend_date=True show_event_venue=False hide_play=True day_list=day_list new_date=new_date %}

  <div class="modal fade" id="old-site-dialog" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content custom-modal">
        <div class="modal-body text-left">
         <p class="title2" style="text-transform: none;">Please use this <a class="accent-color live-url" href="">Smalllive</a> for your future useage.</p>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock home_content %}

{% block footer %}
  {% include 'partials/footer_with_newsletter.html' %}
{% endblock %}

{% block extra_js %}
<script>

  $(document).ready(function () {

    var site_url = document.location.href;
    var protocol = 'https';
    var site = 'https://' + document.location.host
    if(!(site_url.includes(protocol))){
      $('#old-site-dialog').modal('show');

      $( "#old-site-dialog" ).on('shown.bs.modal', function(){
        $('.live-url').attr('href', site);
        $('.live-url').text(site)
      });
    }
  
    $("#calendar-club-filter ~ .select-selected").css("padding: 1em 30px;")

  });

  var eventOrderFilter = 'oldest';
  var show_event_venue = true;
  var show_event_setTime = true;
  var $datePickerFrom = $("#search-date-picker-calendar > input");
  var datePickerFromDate = '{{ default_from_date }}';
  var $datePickerTo = null;
  var datePickerToDate = null;
  var setFromDate = true;
  var setToDate = false;
  var datePickerLeft = 222;
  var datePickerTop = 42;
  var is_upcoming = true;
  var upcomingEventDateFrom = new Date();
  var defaultFromDate = '{{ default_from_date }}';
  var defaultToDate;
</script>
<script type="text/javascript" src="{% static 'js/moment.min.js' %}"></script>
<script src="{% static 'js/bootstrap-datepicker.js' %}"></script>
<script src="{% static 'js/search/search.js' %}"></script>
{% endblock extra_js %}
